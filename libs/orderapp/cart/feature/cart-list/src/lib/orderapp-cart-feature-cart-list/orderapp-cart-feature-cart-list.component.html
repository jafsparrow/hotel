<div class="h-screen" *ngIf="cart$ | async as cart">
  <div class="w-full h-16 flex flex-row bg-white pt-2 mb-1 sticky top-0">
    <button class="w-14">
      <svg
        class="w-10"
        id="Layer_1"
        style="enable-background: new 0 0 512 512"
        version="1.1"
        viewBox="0 0 512 512"
        xml:space="preserve"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
      >
        <polygon
          points="352,128.4 319.7,96 160,256 160,256 160,256 319.7,416 352,383.6 224.7,256 "
        />
      </svg>
    </button>
    <div
      class="bg-white p-2 flex-grow"
      *ngIf="cart.cartCreatedFor; else noCreatedForUser"
    >
      <div class="text-sm font-semibold">
        {{ cart.cartCreatedFor.userType.toUpperCase() }} :
        <span class="text-gray-700">{{ cart.cartCreatedFor.firstName }}</span>
      </div>
      <div class="text-gray-800">Adeel Ahmed | 9733933</div>
      <div class="flex flex-row justify-between">
        <div class="text-gray-800 text-sm">Running Order</div>
        <div class="bg-red-400 rounded-md" (click)="clearCartUser()">CLEAR</div>
      </div>
    </div>
    <ng-template #noCreatedForUser>
      <div class="p-2 text-gray-800">
        Please choose table or Takeaway from homepage.
      </div>
    </ng-template>
  </div>
  <div class="px-4 bg-white">
    <div
      class="border-b flex flex-row py-2"
      *ngFor="let cartItem of getCartItems(cart)"
    >
      <div class="flex-grow">
        <div class="text-sm">{{ cartItem.product.name }}</div>
        <div class="text-xs font-thin">
          <!-- cartItem.modifiers?.map(
                     (modifier) => modifier.description + ", "
                   ) -->
        </div>
      </div>

      <div class="flex flex-row justify-center items-center">
        <div
          class="w-full mr-1 h-6 flex flex-row justify-between items-center text-xs font-bold bg-gray-200 p-1 rounded-lg basis-0"
        >
          <button
            class="w-4 h-4 font-bold text-lg flex justify-center items-center"
          >
            -
          </button>
          <div class="px-2 flex-grow text-center text-sm">
            {{ cartItem.count }}
          </div>
          <button
            class="w-4 h-4 font-bold text-lg flex justify-center items-center"
          >
            +
          </button>
        </div>
        <div class="w-16 text-sm font-light text-right">
          {{ cartItem.product.price }}
        </div>
      </div>
    </div>
  </div>

  <div class="mt-2 bg-white px-4">
    <textarea
      class="w-full py-2 font-thin"
      name=""
      id=""
      placeholder="Would you like to tell us about something"
    ></textarea>
  </div>
  <div class="w-full bg-white px-4 pt-2 mt-2">
    <div class="text-sm font-semibold">Bill Details</div>

    <div class="flex flex-row font-light text-sm py-2">
      <div class="flex-grow">Item Total</div>
      <div class="text-right">{{ cart.total }}</div>
    </div>
    <div class="flex flex-row font-light text-sm py-2 border-b">
      <div class="flex-grow">Govermnet charges</div>
      <div class="text-right">12,00 $</div>
    </div>

    <div class="flex flex-row font-bold text-sm py-2">
      <div class="flex-grow">To Pay</div>
      <div class="text-right">{{ cart.total }} $</div>
    </div>
  </div>
  <div class="w-screen px-4 fixed bottom-1 text-center">
    <div class="p-4 py2 bg-gray-800 rounded text-white font-bold">
      <button (click)="placeOrder(cart)">PLACE ORDER</button>
    </div>
  </div>
</div>
